---
import TeamWork from "../svg/softskills/TeamWork.astro";
import Learning from "../svg/softskills/Learning.astro";
import Comunication from "../svg/softskills/Comunication.astro";
import Adaptability from "../svg/softskills/Adaptability.astro";
import Proactivity from "../svg/softskills/Proactivity.astro";
import Waves1 from "../svg/waves/Waves1.astro";
import Waves2 from "../svg/waves/Waves2.astro";
import Waves3 from "../svg/waves/Waves3.astro";
import WavesReverse from "../svg/waves/WavesReverse.astro";
const { currentLanguage } = Astro.props;
---

<section id="about-me" class="about-me">
    <div class="column">
        <div class="waves-level-1"><Waves1/></div>
        <div class="waves-level-2"><Waves2/></div>
        <div class="waves-level-3"><Waves3/></div>
        <div class="about-container">
            <h1 class="section-title" id="about-title" data-i18n="about-title">
                {currentLanguage === 'spanish' ? '¬øQui√©n soy?' : 'Who am I?'}
            </h1>
            
            <div class="about-content">
                <div class="profile-card">
                    <div class="profile-info">
                        <div class="profile-header">
                            <span class="profile-emoji">üë®‚Äçüíª</span>
                            <h2 class="profile-greeting" data-i18n="profile-greeting">
                                {currentLanguage === 'spanish' ? '¬°Hola mundo!' : 'Hello world!'}
                            </h2>
                        </div>
                        
                        <div class="highlights">
                            <div class="highlight-item">
                                <span class="highlight-icon">üéì</span>
                                <span class="highlight-text" data-i18n="highlight-education">
                                    {currentLanguage === 'spanish' ? 'Ing. Inform√°tico' : 'Computer Engineer'}
                                </span>
                            </div>
                            <div class="highlight-item">
                                <span class="highlight-icon">üíª</span>
                                <span class="highlight-text" data-i18n="highlight-web">
                                    {currentLanguage === 'spanish' ? 'Desarrollo Web Full-Stack' : 'Full-Stack Web Dev'}
                                </span>
                            </div>
                            <div class="highlight-item">
                                <span class="highlight-icon">üì±</span>
                                <span class="highlight-text" data-i18n="highlight-mobile">
                                    {currentLanguage === 'spanish' ? 'Desarrollo M√≥vil' : 'Mobile Development'}
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="personal-statement">
                    <p class="statement-text" data-i18n="statement-text">
                        {currentLanguage === 'spanish' 
                            ? '¬°Hola! Me encanta construir cosas que viven en internet, desde sitios web hasta aplicaciones m√≥viles. Mi objetivo es crear soluciones que sean tanto funcionales como atractivas. Aunque sigo aprendiendo cada d√≠a, estoy constantemente buscando nuevos retos que me permitan seguir creciendo como desarrollador.'
                            : 'Hi there! I love building things that live on the internet, from websites to mobile apps. My goal is to create solutions that are both functional and engaging. While I\'m still learning every day, I\'m constantly seeking new challenges that allow me to grow as a developer.'}
                    </p>
                </div>

                <div class="skills-section">
                    <h3 class="skills-title" data-i18n="skills-title">
                        {currentLanguage === 'spanish' ? 'Habilidades esenciales' : 'Soft Skills'}
                    </h3>
                    <div class="skills-grid">
                        <div class="skill-card">
                            <div class="skill-icon"><Proactivity /></div>
                            <span class="skill-name" data-i18n="skill-1">
                                {currentLanguage === 'spanish' ? 'Proactividad' : 'Proactivity'}
                            </span>
                        </div>
                        <div class="skill-card">
                            <div class="skill-icon"><TeamWork /></div>
                            <span class="skill-name" data-i18n="skill-2">
                                {currentLanguage === 'spanish' ? 'Trabajo en Equipo' : 'Team Work'}
                            </span>
                        </div>
                        <div class="skill-card">
                            <div class="skill-icon"><Learning /></div>
                            <span class="skill-name" data-i18n="skill-3">
                                {currentLanguage === 'spanish' ? 'Aprendizaje' : 'Learning'}
                            </span>
                        </div>
                        <div class="skill-card">
                            <div class="skill-icon"><Comunication /></div>
                            <span class="skill-name" data-i18n="skill-4">
                                {currentLanguage === 'spanish' ? 'Comunicaci√≥n' : 'Communication'}
                            </span>
                        </div>
                        <div class="skill-card">
                            <div class="skill-icon"><Adaptability /></div>
                            <span class="skill-name" data-i18n="skill-5">
                                {currentLanguage === 'spanish' ? 'Adaptabilidad' : 'Adaptability'}
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="waves-reverse"><WavesReverse/></div>
    </div>
</section>

<script>
    // Actualizar textos cuando cambia el idioma
    document.addEventListener('languageChanged', (event) => {
        // Verificamos que el evento tenga la estructura esperada
        if (event instanceof CustomEvent && event.detail && event.detail.language) {
            updateTexts(event.detail.language);
        }
    });

    // Inicializar con el idioma actual
    document.addEventListener('DOMContentLoaded', () => {
        const currentLanguage = localStorage.getItem('language') || 'spanish';
        updateTexts(currentLanguage);
    });

    // Funci√≥n para actualizar todos los textos traducibles en este componente
    function updateTexts(language) {
        // Obtener todos los elementos con atributo data-i18n en este componente
        const translationElements = document.querySelectorAll('#about-me [data-i18n]');
        
        // Actualizar cada elemento usando las traducciones de language.js
        translationElements.forEach(element => {
            const key = element.getAttribute('data-i18n');
            // La actualizaci√≥n real se har√° a trav√©s del evento languageChanged 
            // y el sistema centralizado de traducciones
        });
    }
</script>

<style>
    .section-title {
        color: white;
        margin-bottom: 2rem;
    }

    .column {
        display: flex;
        flex-direction: column;
        position: relative;
    }

    .about-container {
        background-color: var(--blue-titles-color);
        color: #ffffff;
        text-align: center;
        padding: 0% 15%;
    }

    .about-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2.5rem;
        margin-bottom: 3rem;
    }

    .profile-card {
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(5px);
        border-radius: 16px;
        padding: 2rem;
        width: 100%;
        max-width: 600px;
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        transition: transform 0.3s ease;
    }

    .profile-card:hover {
        transform: translateY(-5px);
    }

    .profile-info {
        text-align: center;
    }

    .profile-header {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-bottom: 1.5rem;
    }

    .profile-emoji {
        font-size: 3.5rem;
        margin-bottom: 0.5rem;
    }

    .profile-greeting {
        font-size: 2rem;
        font-weight: 700;
        margin: 0;
        background: linear-gradient(45deg, #ffffff, #b3d9ff);
        background-clip: text;
        -webkit-background-clip: text;
        color: transparent;
    }

    .highlights {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 1rem;
    }

    .highlight-item {
        display: flex;
        align-items: center;
        background: rgba(255, 255, 255, 0.1);
        padding: 0.6rem 1rem;
        border-radius: 50px;
        gap: 0.5rem;
    }

    .highlight-icon {
        font-size: 1.2rem;
    }

    .highlight-text {
        font-size: 0.9rem;
    }

    .personal-statement {
        max-width: 700px;
    }

    .statement-text {
        font-size: 1.2rem;
        line-height: 1.6;
        text-align: center;
        font-style: italic;
    }

    .skills-section {
        width: 100%;
        max-width: 800px;
    }

    .skills-title {
        font-size: 1.8rem;
        margin-bottom: 1.5rem;
        font-weight: 600;
        color: white;
    }

    .skills-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 1.5rem;
        justify-content: center;
    }

    .skill-card {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        padding: 1.5rem 1rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .skill-card::before {
        content: "";
        position: absolute;
        width: 150%;
        height: 150%;
        background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%);
        top: -25%;
        left: -25%;
        opacity: 0;
        transition: opacity 0.5s ease;
        z-index: -1;
    }

    .skill-card:hover {
        transform: translateY(-5px);
        background: rgba(255, 255, 255, 0.15);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .skill-card:hover::before {
        opacity: 1;
    }

    .skill-icon {
        margin-bottom: 0.8rem;
        transform: scale(0.9);
    }

    .skill-name {
        font-size: 0.9rem;
        font-weight: 500;
        text-align: center;
    }

    .waves-level-1,
    .waves-level-2,
    .waves-level-3 {
        padding-top: 50px;
        width: 100%;
        top: 2px;
    }

    .waves-level-1,
    .waves-level-2 {
        position: absolute;
    }

    .waves-reverse {
        margin-top: -2px;
        width: 100%;
        transform: rotate(180deg);
    }

    @media (max-width: 768px) {
        .section-title {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .about-container {
            padding: 20px;
        }

        .profile-card {
            padding: 1.5rem;
        }

        .profile-emoji {
            font-size: 2.5rem;
        }

        .profile-greeting {
            font-size: 1.5rem;
        }

        .highlights {
            flex-direction: column;
            align-items: center;
        }

        .statement-text {
            font-size: 1rem;
        }

        .skills-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .skills-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .skill-card {
            padding: 1rem 0.5rem;
        }

        .skill-icon {
            transform: scale(0.7);
            margin-bottom: 0.5rem;
        }

        .skill-name {
            font-size: 0.8rem;
        }
    }
</style>
